C251 COMPILER V5.60.0,  gpio_interrupt                                                     15/01/25  10:48:06  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE gpio_interrupt
OBJECT MODULE PLACED IN .\Objects\gpio_interrupt.obj
COMPILER INVOKED BY: D:\Keil_v5\C251\BIN\C251.EXE usr\gpio_interrupt.c XSMALL INTR2 BROWSE DEBUG PRINT(.\Listings\gpio_i
                    -nterrupt.lst) OBJECT(.\Objects\gpio_interrupt.obj) 

stmt  level    source

    1          #include   "gpio_interrupt.h"
    2          
    3          /*************  ¹¦ÄÜËµÃ÷        **************
    4          //      GPIO_INT_Config(GPIO_P0, INT_FALL, Pin0 | Pin1 | Pin2 | Pin3);  
    5          //      GPIO_INT_Config(GPIO_P2, INT_FALL, Pin4 | Pin5 | Pin6 | Pin7);
    6                  //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍ
             -µçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
    7          ÇëÏÈ±ðÐÞ¸Ä³ÌÐò, Ö±½ÓÏÂÔØ"Objects"ÀïµÄ"interrupt.hex"²âÊÔ, Ö÷ÆµÑ¡Ôñ11.0592MHZ. ²âÊÔÕý³£ºóÔÙÐÞ¸ÄÒÆÖ².
    8          ÓÉÓÚÊ¹ÓÃµÄÖÐ¶ÏºÅ³¬¹ýÁË31£¬ËùÒÔKEIL C251±àÒëÆ÷ÒªÍØÕ¹KeilµÄC´úÂëÖÐ¶ÏºÅ, ÔËÐÐÒ»ÏÂ"ÍØÕ¹KeilµÄC´úÂëÖÐ¶ÏºÅ.exe"
             -¼´¿É¡£
    9          
   10          P0~P7ËùÓÐIOÖÐ¶Ï²âÊÔ³ÌÐò.
   11          P0.0~P0.7ÖÐ¶Ï¶ÔÓ¦È¡·´P1.0~P1.7Êä³öÖ¸Ê¾¡£
   12          P1.0~P1.7ÖÐ¶Ï¶ÔÓ¦È¡·´P0.0~P0.7Êä³öÖ¸Ê¾¡£
   13          P2.0~P2.7ÖÐ¶Ï¶ÔÓ¦È¡·´P4.0~P4.7Êä³öÖ¸Ê¾¡£
   14          P3.0~P3.7ÖÐ¶Ï¶ÔÓ¦È¡·´P4.0~P4.7Êä³öÖ¸Ê¾¡£
   15          P4.0~P4.7ÖÐ¶Ï¶ÔÓ¦È¡·´P2.0~P2.7Êä³öÖ¸Ê¾¡£
   16          P5.0~P5.7ÖÐ¶Ï¶ÔÓ¦È¡·´P4.0~P4.7Êä³öÖ¸Ê¾¡£
   17          P6.0~P6.7ÖÐ¶Ï¶ÔÓ¦È¡·´P7.0~P7.7Êä³öÖ¸Ê¾¡£
   18          P7.0~P7.7ÖÐ¶Ï¶ÔÓ¦È¡·´P6.0~P6.7Êä³öÖ¸Ê¾¡£
   19          
   20          ÓÉÓÚIOÓÐÏÞ, ±¾Àý×ÓÖ»ÉèÖÃÁËP0.0~P0.7ºÍP2.0~P2.7µÄÖÐ¶Ï, ÖÐ¶Ïº¯Êý·Ö±ðÈ¡·´P1.0~P1.7ºÍP4.0~P4.7À´Ö¸Ê¾½øÈëÖÐ¶Ï.
   21          ÓÃ»§¿ÉÒÔ¸ù¾ÝÀý×ÓËæÒâÉèÖÃ×Ô¼ºÐèÒªµÄIOÖÐ¶Ï.
   22          Ö÷º¯ÊýÈ¡·´P3.3Êä³öÒ»¸ö·½²¨ÐÅºÅ, ·½±ãÓÃ»§²âÊÔ.
   23          
   24          ******************************************/
   25          
   26          /*************  ±¾µØ³£Á¿ÉùÃ÷    **************/
   27          
   28          
   29          /*************  ±¾µØ±äÁ¿ÉùÃ÷    **************/
   30          
   31          
   32          /*************  ±¾µØº¯ÊýÉùÃ÷    **************/
   33          
   34          
   35          
   36          
   37          /*************  Íâ²¿º¯ÊýºÍ±äÁ¿ÉùÃ÷ *****************/
   38          //GPIO_INT_Config(GPIO_P0, INT_FALL, Pin0 | Pin1 | Pin2 | Pin3);        //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»)
             -: INT_FALL, INT_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   39          //      GPIO_INT_Config(GPIO_P0, INT_RISE, Pin4 | Pin5 | Pin6 | Pin7);  //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»
             -): INT_FALL, INT_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   40          ////    GPIO_INT_Config(GPIO_P1, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   41          //      GPIO_INT_Config(GPIO_P2, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT_R
             -ISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   42          ////    GPIO_INT_Config(GPIO_P3, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   43          ////    GPIO_INT_Config(GPIO_P4, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   44          ////    GPIO_INT_Config(GPIO_P5, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   45          ////    GPIO_INT_Config(GPIO_P6, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   46          ////    GPIO_INT_Config(GPIO_P7, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   47          
C251 COMPILER V5.60.0,  gpio_interrupt                                                     15/01/25  10:48:06  PAGE 2   

   48          
   49          //========================================================================
   50          // º¯Êý: void   GPIO_INT_Config(u8 gpio, u8 pin, u8 mode)
   51          // ÃèÊö: IOÖÐ¶Ï³õÊ¼»¯º¯Êý.
   52          // ²ÎÊý: gpio: Òª³õÊ¼»¯µÄIO×é, ²ÎÊýÈ¡Öµ(Ö»È¡ÆäÒ»): GPIO_P0, GPIO_P1, GPIO_P2, GPIO_P3, GPIO_P4, GPIO_P5, 
             -GPIO_P6, GPIO_P7, GPIO_P8, GPIO_P9.
   53          //       mode: ÖÐ¶ÏÄ£Ê½,       ²ÎÊýÈ¡Öµ(Ö»È¡ÆäÒ»): INT_FALL, INT_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ Ï
             -Â½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   54          //       pin:  Òª³õÊ¼»¯µÄÒý½Å, ²ÎÊýÈ¡Öµ(¶à¸öÖµÊ±ÓÃ»ò²Ù×÷): Pin0, Pin1, Pin2, Pin3, Pin4, Pin5, Pin6, Pin7
             -. PinAll.
   55          // ·µ»Ø: none.
   56          // °æ±¾: VER1.0
   57          // ÈÕÆÚ: 2020-5-20
   58          // ±¸×¢:
   59          //========================================================================
   60          void    GPIO_INT_Config(u8 gpio, u8 mode, u8 pin)
   61          {
   62   1              u8      volatile far *pt;
   63   1              u8      j;
   64   1      
   65   1              if(gpio > GPIO_P7)      return; //IO¿Ú´íÎó
   66   1              if(mode >= 4)           return; //Ä£Ê½´íÎó
   67   1              P_SW2 |= 0x80;                  //·ÃÎÊXFR
   68   1      
   69   1              pt  = (unsigned char volatile far *)(0x7efd10 + gpio);  //PxINTF¶Ë¿ÚÖÐ¶Ï±êÖ¾¼Ä´æÆ÷
   70   1              *pt = *pt & ~pin;       //Çå³ýÖÐ¶Ï±êÖ¾
   71   1      
   72   1              pt  = (unsigned char volatile far *)(0x7efd30 + gpio);  //PxIM1¶Ë¿ÚÖÐ¶ÏÄ£Ê½ÅäÖÃ¼Ä´æÆ÷1
   73   1              if(mode & 0x02) j = 0xff & pin; //ÉèÖÃÄ£Ê½
   74   1              else                    j = 0;
   75   1              *pt = (*pt & ~pin) | j;
   76   1      
   77   1              pt  = (unsigned char volatile far *)(0x7efd20 + gpio);  //PxIM0¶Ë¿ÚÖÐ¶ÏÄ£Ê½ÅäÖÃ¼Ä´æÆ÷0
   78   1              if(mode & 0x01) j = 0xff & pin;
   79   1              else                    j = 0;
   80   1              *pt = (*pt & ~pin) | j;
   81   1      
   82   1              pt  = (unsigned char volatile far *)(0x7efd00 + gpio);  //PxINTE¶Ë¿ÚÖÐ¶ÏÊ¹ÄÜ¼Ä´æÆ÷
   83   1              *pt |= pin;                             //ÔÊÐíIOÖÐ¶Ï
   84   1      }
   85          
   86          
   87          
   88          //========================================================================
   89          // º¯Êý: void   P0INT_ISR(void) interrupt 37
   90          // ÃèÊö: P0(P0.0~P0.7)ÖÐ¶Ï´¦Àíº¯Êý.
   91          // ²ÎÊý: none.
   92          // ·µ»Ø: none.
   93          // °æ±¾: VER1.0
   94          // ÈÕÆÚ: 2020-5-20
   95          // ±¸×¢:
   96          //========================================================================
   97          void    P0INT_ISR(void) interrupt 37    //P0.0~P0.7 IOÖÐ¶Ï´¦Àí´úÂë
   98          {
   99   1              u8      i;
  100   1              i = P0INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  101   1              P0INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  102   1      
  103   1              if((i & INTF_0) != 0)   //P0.0ÖÐ¶Ï
  104   1              {
  105   2      //              printf("ÖÐ¶ÏP00:%hd\r\n",P00);
  106   2                      six_f=1;
  107   2                      
  108   2              }
  109   1              if((i & INTF_1) != 0)   //P0.1ÖÐ¶Ï
  110   1              {
C251 COMPILER V5.60.0,  gpio_interrupt                                                     15/01/25  10:48:06  PAGE 3   

  111   2      //              printf("ÖÐ¶ÏP01:%hd\r\n",P01);
  112   2                      three_f = 1;
  113   2              }
  114   1              if((i & INTF_2) != 0)   //P0.2ÖÐ¶Ï
  115   1              {
  116   2      //              printf("ÖÐ¶ÏP02:%hd\r\n",P02);
  117   2                      high_f = 1;
  118   2                      
  119   2              }
  120   1              if((i & INTF_3) != 0)   //P0.3ÖÐ¶Ï
  121   1              {
  122   2      //              printf("ÖÐ¶ÏP03:%hd\r\n",P03);
  123   2                      low_f  =1;
  124   2                      
  125   2              }
  126   1              if((i & INTF_4) != 0)   //P0.4ÖÐ¶Ï
  127   1              {
  128   2                      
  129   2              }
  130   1              if((i & INTF_5) != 0)   //P0.5ÖÐ¶Ï
  131   1              {
  132   2                      
  133   2              }
  134   1              if((i & INTF_6) != 0)   //P0.6ÖÐ¶Ï
  135   1              {
  136   2                      
  137   2              }
  138   1              if((i & INTF_7) != 0)   //P0.7ÖÐ¶Ï
  139   1              {
  140   2                      
  141   2              }
  142   1              
  143   1              
  144   1              EA = 0;
  145   1              delay_ms(20);
  146   1              EA = 1;
  147   1      }
  148          
  149          //========================================================================
  150          // º¯Êý: void   P1INT_ISR(void) interrupt 38
  151          // ÃèÊö: P1(P1.0~P1.7)ÖÐ¶Ï´¦Àíº¯Êý.
  152          // ²ÎÊý: none.
  153          // ·µ»Ø: none.
  154          // °æ±¾: VER1.0
  155          // ÈÕÆÚ: 2020-5-20
  156          // ±¸×¢:
  157          //========================================================================
  158          void    P1INT_ISR(void) interrupt 38            //P1.0~P1.7 IOÖÐ¶Ï´¦Àí´úÂë
  159          {
  160   1              u8      i;
  161   1              i = P1INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  162   1              P1INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  163   1      
  164   1              if((i & INTF_0) != 0)   //P1.0ÖÐ¶Ï
  165   1              {
  166   2                      P00 = ~P00;                     //È¡·´P0.0Ö¸Ê¾
  167   2              }
  168   1              if((i & INTF_1) != 0)   //P1.1ÖÐ¶Ï
  169   1              {
  170   2                      P01 = ~P01;                     //È¡·´P0.1Ö¸Ê¾
  171   2              }
  172   1              if((i & INTF_2) != 0)   //P1.2ÖÐ¶Ï
  173   1              {
  174   2                      P02 = ~P02;                     //È¡·´P0.2Ö¸Ê¾
  175   2              }
  176   1              if((i & INTF_3) != 0)   //P1.3ÖÐ¶Ï
C251 COMPILER V5.60.0,  gpio_interrupt                                                     15/01/25  10:48:06  PAGE 4   

  177   1              {
  178   2                      P03 = ~P03;                     //È¡·´P0.3Ö¸Ê¾
  179   2              }
  180   1              if((i & INTF_4) != 0)   //P1.4ÖÐ¶Ï
  181   1              {
  182   2                      P04 = ~P04;                     //È¡·´P0.4Ö¸Ê¾
  183   2              }
  184   1              if((i & INTF_5) != 0)   //P1.5ÖÐ¶Ï
  185   1              {
  186   2                      P05 = ~P05;                     //È¡·´P0.5Ö¸Ê¾
  187   2              }
  188   1              if((i & INTF_6) != 0)   //P1.6ÖÐ¶Ï
  189   1              {
  190   2                      P06 = ~P06;                     //È¡·´P0.6Ö¸Ê¾
  191   2              }
  192   1              if((i & INTF_7) != 0)   //P1.7ÖÐ¶Ï
  193   1              {
  194   2                      P07 = ~P07;                     //È¡·´P0.7Ö¸Ê¾
  195   2              }
  196   1      }
  197          
  198          //========================================================================
  199          // º¯Êý: void   P2INT_ISR(void) interrupt 39
  200          // ÃèÊö: P2(P2.0~P2.7)ÖÐ¶Ï´¦Àíº¯Êý.
  201          // ²ÎÊý: none.
  202          // ·µ»Ø: none.
  203          // °æ±¾: VER1.0
  204          // ÈÕÆÚ: 2020-5-20
  205          // ±¸×¢:
  206          //========================================================================
  207          void    P2INT_ISR(void) interrupt 39            //P2.0~P2.7 IOÖÐ¶Ï´¦Àí´úÂë
  208          {
  209   1              u8      i;
  210   1              i = P2INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  211   1              P2INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  212   1      
  213   1              if((i & INTF_0) != 0)   //P2.0ÖÐ¶Ï
  214   1              {
  215   2                      
  216   2              }
  217   1              if((i & INTF_1) != 0)   //P2.1ÖÐ¶Ï
  218   1              {
  219   2                      
  220   2              }
  221   1              if((i & INTF_2) != 0)   //P2.2ÖÐ¶Ï
  222   1              {
  223   2                      
  224   2              }
  225   1              if((i & INTF_3) != 0)   //P2.3ÖÐ¶Ï
  226   1              {
  227   2                      
  228   2              }
  229   1              if((i & INTF_4) != 0)   //P2.4ÖÐ¶Ï
  230   1              {
  231   2      //              printf("ÖÐ¶ÏP24:%hd\r\n",P24);
  232   2                      four_f =1;
  233   2              }
  234   1              if((i & INTF_5) != 0)   //P2.5ÖÐ¶Ï
  235   1              {
  236   2      //              printf("ÖÐ¶ÏP25:%hd\r\n",P25);
  237   2                      one_f = 1;
  238   2              }
  239   1              if((i & INTF_6) != 0)   //P2.6ÖÐ¶Ï
  240   1              {
  241   2      //              printf("ÖÐ¶ÏP26:%hd\r\n",P26);
  242   2                      five_f = 1;
C251 COMPILER V5.60.0,  gpio_interrupt                                                     15/01/25  10:48:06  PAGE 5   

  243   2              }
  244   1              if((i & INTF_7) != 0)   //P2.7ÖÐ¶Ï
  245   1              {
  246   2      //              printf("ÖÐ¶ÏP27:%hd\r\n",P27);
  247   2                      two_f = 1;
  248   2              }
  249   1              
  250   1              EA = 0;
  251   1              delay_ms(20);
  252   1              EA = 1;
  253   1      }
  254          
  255          //========================================================================
  256          // º¯Êý: void   P3INT_ISR(void) interrupt 40
  257          // ÃèÊö: P3(P3.0~P3.7)ÖÐ¶Ï´¦Àíº¯Êý.
  258          // ²ÎÊý: none.
  259          // ·µ»Ø: none.
  260          // °æ±¾: VER1.0
  261          // ÈÕÆÚ: 2020-5-20
  262          // ±¸×¢:
  263          //========================================================================
  264          void    P3INT_ISR(void) interrupt 40            //P3.0~P3.7 IOÖÐ¶Ï´¦Àí´úÂë
  265          {
  266   1              u8      i;
  267   1              i = P3INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  268   1              P3INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  269   1      
  270   1              if((i & INTF_0) != 0)   //P3.0ÖÐ¶Ï
  271   1              {
  272   2                      P40 = ~P40;                     //È¡·´P4.0Ö¸Ê¾
  273   2              }
  274   1              if((i & INTF_1) != 0)   //P3.1ÖÐ¶Ï
  275   1              {
  276   2                      P41 = ~P41;                     //È¡·´P4.1Ö¸Ê¾
  277   2              }
  278   1              if((i & INTF_2) != 0)   //P3.2ÖÐ¶Ï
  279   1              {
  280   2                      P42 = ~P42;                     //È¡·´P4.2Ö¸Ê¾
  281   2              }
  282   1              if((i & INTF_3) != 0)   //P3.3ÖÐ¶Ï
  283   1              {
  284   2                      P43 = ~P43;                     //È¡·´P4.3Ö¸Ê¾
  285   2              }
  286   1              if((i & INTF_4) != 0)   //P3.4ÖÐ¶Ï
  287   1              {
  288   2                      P44 = ~P44;                     //È¡·´P4.4Ö¸Ê¾
  289   2              }
  290   1              if((i & INTF_5) != 0)   //P3.5ÖÐ¶Ï
  291   1              {
  292   2                      P45 = ~P45;                     //È¡·´P4.5Ö¸Ê¾
  293   2              }
  294   1              if((i & INTF_6) != 0)   //P3.6ÖÐ¶Ï
  295   1              {
  296   2                      P46 = ~P46;                     //È¡·´P4.6Ö¸Ê¾
  297   2              }
  298   1              if((i & INTF_7) != 0)   //P3.7ÖÐ¶Ï
  299   1              {
  300   2                      P47 = ~P47;                     //È¡·´P4.7Ö¸Ê¾
  301   2              }
  302   1      }
  303          
  304          //========================================================================
  305          // º¯Êý: void   P4INT_ISR(void) interrupt 41
  306          // ÃèÊö: P4(P4.0~P4.7)ÖÐ¶Ï´¦Àíº¯Êý.
  307          // ²ÎÊý: none.
  308          // ·µ»Ø: none.
C251 COMPILER V5.60.0,  gpio_interrupt                                                     15/01/25  10:48:06  PAGE 6   

  309          // °æ±¾: VER1.0
  310          // ÈÕÆÚ: 2020-5-20
  311          // ±¸×¢:
  312          //========================================================================
  313          void    P4INT_ISR(void) interrupt 41            //P4.0~P4.7 IOÖÐ¶Ï´¦Àí´úÂë
  314          {
  315   1              u8      i;
  316   1              i = P4INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  317   1              P4INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  318   1      
  319   1              if((i & INTF_0) != 0)   //P4.0ÖÐ¶Ï
  320   1              {
  321   2                      P20 = ~P20;                     //È¡·´P2.0Ö¸Ê¾
  322   2              }
  323   1              if((i & INTF_1) != 0)   //P4.1ÖÐ¶Ï
  324   1              {
  325   2                      P21 = ~P21;                     //È¡·´P2.1Ö¸Ê¾
  326   2              }
  327   1              if((i & INTF_2) != 0)   //P4.2ÖÐ¶Ï
  328   1              {
  329   2                      P22 = ~P22;                     //È¡·´P2.2Ö¸Ê¾
  330   2              }
  331   1              if((i & INTF_3) != 0)   //P4.3ÖÐ¶Ï
  332   1              {
  333   2                      P23 = ~P23;                     //È¡·´P2.3Ö¸Ê¾
  334   2              }
  335   1              if((i & INTF_4) != 0)   //P4.4ÖÐ¶Ï
  336   1              {
  337   2                      P24 = ~P24;                     //È¡·´P2.4Ö¸Ê¾
  338   2              }
  339   1              if((i & INTF_5) != 0)   //P4.5ÖÐ¶Ï
  340   1              {
  341   2                      P25 = ~P25;                     //È¡·´P2.5Ö¸Ê¾
  342   2              }
  343   1              if((i & INTF_6) != 0)   //P4.6ÖÐ¶Ï
  344   1              {
  345   2                      P26 = ~P26;                     //È¡·´P2.6Ö¸Ê¾
  346   2              }
  347   1              if((i & INTF_7) != 0)   //P4.7ÖÐ¶Ï
  348   1              {
  349   2                      P27 = ~P27;                     //È¡·´P2.7Ö¸Ê¾
  350   2              }
  351   1      }
  352          
  353          //========================================================================
  354          // º¯Êý: void   P5INT_ISR(void) interrupt 42
  355          // ÃèÊö: P5(P5.0~P5.4)ÖÐ¶Ï´¦Àíº¯Êý.
  356          // ²ÎÊý: none.
  357          // ·µ»Ø: none.
  358          // °æ±¾: VER1.0
  359          // ÈÕÆÚ: 2020-5-20
  360          // ±¸×¢:
  361          //========================================================================
  362          void    P5INT_ISR(void) interrupt 42            //P5.0~P5.4 IOÖÐ¶Ï´¦Àí´úÂë
  363          {
  364   1              u8      i;
  365   1              i = P5INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  366   1              P5INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  367   1      
  368   1              if((i & INTF_0) != 0)   //P5.0ÖÐ¶Ï
  369   1              {
  370   2                      P40 = ~P40;                     //È¡·´P4.0Ö¸Ê¾
  371   2              }
  372   1              if((i & INTF_1) != 0)   //P5.1ÖÐ¶Ï
  373   1              {
  374   2                      P41 = ~P41;                     //È¡·´P4.1Ö¸Ê¾
C251 COMPILER V5.60.0,  gpio_interrupt                                                     15/01/25  10:48:06  PAGE 7   

  375   2              }
  376   1              if((i & INTF_2) != 0)   //P5.2ÖÐ¶Ï
  377   1              {
  378   2                      P42 = ~P42;                     //È¡·´P4.2Ö¸Ê¾
  379   2              }
  380   1              if((i & INTF_3) != 0)   //P5.3ÖÐ¶Ï
  381   1              {
  382   2                      P43 = ~P43;                     //È¡·´P4.3Ö¸Ê¾
  383   2              }
  384   1              if((i & INTF_4) != 0)   //P5.4ÖÐ¶Ï
  385   1              {
  386   2                      P44 = ~P44;                     //È¡·´P4.4Ö¸Ê¾
  387   2              }
  388   1              if((i & INTF_5) != 0)   //P5.5ÖÐ¶Ï
  389   1              {
  390   2                      P45 = ~P45;                     //È¡·´P4.5Ö¸Ê¾
  391   2              }
  392   1      }
  393          
  394          //========================================================================
  395          // º¯Êý: void   P6INT_ISR(void) interrupt 43
  396          // ÃèÊö: P6(P6.0~P6.7)ÖÐ¶Ï´¦Àíº¯Êý.
  397          // ²ÎÊý: none.
  398          // ·µ»Ø: none.
  399          // °æ±¾: VER1.0
  400          // ÈÕÆÚ: 2020-5-20
  401          // ±¸×¢:
  402          //========================================================================
  403          void    P6INT_ISR(void) interrupt 43            //P6.0~P6.7 IOÖÐ¶Ï´¦Àí´úÂë
  404          {
  405   1              u8      i;
  406   1              i = P6INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  407   1              P6INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  408   1      
  409   1              if((i & INTF_0) != 0)   //P6.0ÖÐ¶Ï
  410   1              {
  411   2                      P70 = ~P70;                     //È¡·´P7.0Ö¸Ê¾
  412   2              }
  413   1              if((i & INTF_1) != 0)   //P6.1ÖÐ¶Ï
  414   1              {
  415   2                      P71 = ~P71;                     //È¡·´P7.1Ö¸Ê¾
  416   2              }
  417   1              if((i & INTF_2) != 0)   //P6.2ÖÐ¶Ï
  418   1              {
  419   2                      P72 = ~P72;                     //È¡·´P7.2Ö¸Ê¾
  420   2              }
  421   1              if((i & INTF_3) != 0)   //P6.3ÖÐ¶Ï
  422   1              {
  423   2                      P73 = ~P73;                     //È¡·´P7.3Ö¸Ê¾
  424   2              }
  425   1              if((i & INTF_4) != 0)   //P6.4ÖÐ¶Ï
  426   1              {
  427   2                      P74 = ~P74;                     //È¡·´P7.4Ö¸Ê¾
  428   2              }
  429   1              if((i & INTF_5) != 0)   //P6.5ÖÐ¶Ï
  430   1              {
  431   2                      P75 = ~P75;                     //È¡·´P7.5Ö¸Ê¾
  432   2              }
  433   1              if((i & INTF_6) != 0)   //P6.6ÖÐ¶Ï
  434   1              {
  435   2                      P76 = ~P76;                     //È¡·´P7.6Ö¸Ê¾
  436   2              }
  437   1              if((i & INTF_7) != 0)   //P6.7ÖÐ¶Ï
  438   1              {
  439   2                      P77 = ~P77;                     //È¡·´P7.7Ö¸Ê¾
  440   2              }
C251 COMPILER V5.60.0,  gpio_interrupt                                                     15/01/25  10:48:06  PAGE 8   

  441   1      }
  442          
  443          //========================================================================
  444          // º¯Êý: void   P7INT_ISR(void) interrupt 44
  445          // ÃèÊö: P0(P7.0~P7.7)ÖÐ¶Ï´¦Àíº¯Êý.
  446          // ²ÎÊý: none.
  447          // ·µ»Ø: none.
  448          // °æ±¾: VER1.0
  449          // ÈÕÆÚ: 2020-5-20
  450          // ±¸×¢:
  451          //========================================================================
  452          void    P7INT_ISR(void) interrupt 44            //P7.0~P7.7 IOÖÐ¶Ï´¦Àí´úÂë
  453          {
  454   1              u8      i;
  455   1              i = P7INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  456   1              P7INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  457   1      
  458   1              if((i & INTF_0) != 0)   //P7.0ÖÐ¶Ï
  459   1              {
  460   2                      P60 = ~P60;                     //È¡·´P6.0Ö¸Ê¾
  461   2              }
  462   1              if((i & INTF_1) != 0)   //P7.1ÖÐ¶Ï
  463   1              {
  464   2                      P61 = ~P61;                     //È¡·´P6.1Ö¸Ê¾
  465   2              }
  466   1              if((i & INTF_2) != 0)   //P7.2ÖÐ¶Ï
  467   1              {
  468   2                      P62 = ~P62;                     //È¡·´P6.2Ö¸Ê¾
  469   2              }
  470   1              if((i & INTF_3) != 0)   //P7.3ÖÐ¶Ï
  471   1              {
  472   2                      P63 = ~P63;                     //È¡·´P6.3Ö¸Ê¾
  473   2              }
  474   1              if((i & INTF_4) != 0)   //P7.4ÖÐ¶Ï
  475   1              {
  476   2                      P64 = ~P64;                     //È¡·´P6.4Ö¸Ê¾
  477   2              }
  478   1              if((i & INTF_5) != 0)   //P7.5ÖÐ¶Ï
  479   1              {
  480   2                      P65 = ~P65;                     //È¡·´P6.5Ö¸Ê¾
  481   2              }
  482   1              if((i & INTF_6) != 0)   //P7.6ÖÐ¶Ï
  483   1              {
  484   2                      P66 = ~P66;                     //È¡·´P6.6Ö¸Ê¾
  485   2              }
  486   1              if((i & INTF_7) != 0)   //P7.7ÖÐ¶Ï
  487   1              {
  488   2                      P67 = ~P67;                     //È¡·´P6.7Ö¸Ê¾
  489   2              }
  490   1      }
  491          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       950     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
C251 COMPILER V5.60.0,  gpio_interrupt                                                     15/01/25  10:48:06  PAGE 9   

  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
